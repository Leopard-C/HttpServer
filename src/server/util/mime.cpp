#include "server/util/mime.h"
#include <string.h>
#include <unordered_map>

namespace ic {
namespace server {
namespace util {

static const char* s_default_mimetype = "application/octet-stream";

namespace _internal {

class MimeHelper {
public:
    MimeHelper() {
        InitMimeTypesMap();
    }

    const char* GetMimeType(const char* ext) const {
        auto iter = mimetypes_map_.find(ext);
        if (iter != mimetypes_map_.end()) {
            return iter->second;
        }
        return s_default_mimetype;
    }

private:
    void InitMimeTypesMap();

    struct HashFunc {
        size_t operator()(const char* key) const {
            size_t hash = 0;
            const char* p = key;
            char c;
            while (*p) {
                c = *p++;
                c = (c >= 'A' && c <= 'Z') ? (c + 32) : c;
                hash = hash * 101 + c;
            }
            return hash;
        }
    };

    struct EqualFunc {
        // case insensitive
        bool operator()(const char* key1, const char* key2) const {
            const char* p1 = key1;
            const char* p2 = key2;
            int result;
            while ((result = tolower(*p1) - tolower(*p2++)) == 0) {
                if (*p1++ == '\0') {
                    break;
                }
            }
            return result == 0;
        }
    };

private:
    std::unordered_map<const char*, const char*, HashFunc, EqualFunc> mimetypes_map_;
};

static const MimeHelper s_mime_helper;

} // namespace _internal

/**
 * @brief 获取文件扩展名对应的MIME类型.
 */
const char* get_mimetype(const char* ext) {
    return _internal::s_mime_helper.GetMimeType(ext);
}

/**
 * @brief 初始化.
 */
void _internal::MimeHelper::InitMimeTypesMap() {
    mimetypes_map_.emplace(".ez", "application/andrew-inset");
    mimetypes_map_.emplace(".aw", "application/applixware");
    mimetypes_map_.emplace(".atom", "application/atom+xml");
    mimetypes_map_.emplace(".atomcat", "application/atomcat+xml");
    mimetypes_map_.emplace(".atomsvc", "application/atomsvc+xml");
    mimetypes_map_.emplace(".ccxml", "application/ccxml+xml");
    mimetypes_map_.emplace(".cu", "application/cu-seeme");
    mimetypes_map_.emplace(".davmount", "application/davmount+xml");
    mimetypes_map_.emplace(".ecma", "application/ecmascript");
    mimetypes_map_.emplace(".emma", "application/emma+xml");
    mimetypes_map_.emplace(".epub", "application/epub+zip");
    mimetypes_map_.emplace(".pfr", "application/font-tdpfr");
    mimetypes_map_.emplace(".gz", "application/x-gzip");
    mimetypes_map_.emplace(".tgz", "application/x-gzip");
    mimetypes_map_.emplace(".stk", "application/hyperstudio");
    mimetypes_map_.emplace(".jar", "application/java-archive");
    mimetypes_map_.emplace(".ser", "application/java-serialized-object");
    mimetypes_map_.emplace(".class", "application/java-vm");
    mimetypes_map_.emplace(".json", "application/json");
    mimetypes_map_.emplace(".lostxml", "application/lost+xml");
    mimetypes_map_.emplace(".hqx", "application/mac-binhex40");
    mimetypes_map_.emplace(".cpt", "application/mac-compactpro");
    mimetypes_map_.emplace(".mrc", "application/marc");
    mimetypes_map_.emplace(".ma", "application/mathematica");
    mimetypes_map_.emplace(".mb", "application/mathematica");
    mimetypes_map_.emplace(".nb", "application/mathematica");
    mimetypes_map_.emplace(".mathml", "text/mathml");
    mimetypes_map_.emplace(".mml", "text/mathml");
    mimetypes_map_.emplace(".mbox", "application/mbox");
    mimetypes_map_.emplace(".mscml", "application/mediaservercontrol+xml");
    mimetypes_map_.emplace(".mp4s", "application/mp4");
    mimetypes_map_.emplace(".doc", "application/msword");
    mimetypes_map_.emplace(".dot", "application/msword");
    mimetypes_map_.emplace(".wiz", "application/msword");
    mimetypes_map_.emplace(".mxf", "application/mxf");
    mimetypes_map_.emplace(".a", "application/octet-stream");
    mimetypes_map_.emplace(".bin", "application/octet-stream");
    mimetypes_map_.emplace(".bpk", "application/octet-stream");
    mimetypes_map_.emplace(".deploy", "application/octet-stream");
    mimetypes_map_.emplace(".dist", "application/octet-stream");
    mimetypes_map_.emplace(".distz", "application/octet-stream");
    mimetypes_map_.emplace(".dmg", "application/octet-stream");
    mimetypes_map_.emplace(".dms", "application/octet-stream");
    mimetypes_map_.emplace(".dump", "application/octet-stream");
    mimetypes_map_.emplace(".elc", "application/octet-stream");
    mimetypes_map_.emplace(".iso", "application/octet-stream");
    mimetypes_map_.emplace(".lha", "application/octet-stream");
    mimetypes_map_.emplace(".lrf", "application/octet-stream");
    mimetypes_map_.emplace(".lzh", "application/octet-stream");
    mimetypes_map_.emplace(".o", "application/octet-stream");
    mimetypes_map_.emplace(".obj", "application/octet-stream");
    mimetypes_map_.emplace(".pkg", "application/octet-stream");
    mimetypes_map_.emplace(".so", "application/octet-stream");
    mimetypes_map_.emplace(".oda", "application/oda");
    mimetypes_map_.emplace(".opf", "application/oebps-package+xml");
    mimetypes_map_.emplace(".ogx", "application/ogg");
    mimetypes_map_.emplace(".onepkg", "application/onenote");
    mimetypes_map_.emplace(".onetmp", "application/onenote");
    mimetypes_map_.emplace(".onetoc", "application/onenote");
    mimetypes_map_.emplace(".onetoc2", "application/onenote");
    mimetypes_map_.emplace(".xer", "application/patch-ops-error+xml");
    mimetypes_map_.emplace(".pdf", "application/pdf");
    mimetypes_map_.emplace(".pgp", "application/pgp-encrypted");
    mimetypes_map_.emplace(".asc", "application/pgp-signature");
    mimetypes_map_.emplace(".sig", "application/pgp-signature");
    mimetypes_map_.emplace(".prf", "application/pics-rules");
    mimetypes_map_.emplace(".p10", "application/pkcs10");
    mimetypes_map_.emplace(".p7c", "application/pkcs7-mime");
    mimetypes_map_.emplace(".p7m", "application/pkcs7-mime");
    mimetypes_map_.emplace(".p7s", "application/pkcs7-signature");
    mimetypes_map_.emplace(".cer", "application/pkix-cert");
    mimetypes_map_.emplace(".crl", "application/pkix-crl");
    mimetypes_map_.emplace(".pkipath", "application/pkix-pkipath");
    mimetypes_map_.emplace(".pki", "application/pkixcmp");
    mimetypes_map_.emplace(".pls", "application/pls+xml");
    mimetypes_map_.emplace(".ai", "application/postscript");
    mimetypes_map_.emplace(".eps", "application/postscript");
    mimetypes_map_.emplace(".ps", "application/postscript");
    mimetypes_map_.emplace(".cww", "application/prs.cww");
    mimetypes_map_.emplace(".rdf", "application/rdf+xml");
    mimetypes_map_.emplace(".rif", "application/reginfo+xml");
    mimetypes_map_.emplace(".rnc", "application/relax-ng-compact-syntax");
    mimetypes_map_.emplace(".rl", "application/resource-lists+xml");
    mimetypes_map_.emplace(".rld", "application/resource-lists-diff+xml");
    mimetypes_map_.emplace(".rs", "application/rls-services+xml");
    mimetypes_map_.emplace(".rsd", "application/rsd+xml");
    mimetypes_map_.emplace(".rss", "application/rss+xml");
    mimetypes_map_.emplace(".rtf", "application/rtf");
    mimetypes_map_.emplace(".sbml", "application/sbml+xml");
    mimetypes_map_.emplace(".scq", "application/scvp-cv-request");
    mimetypes_map_.emplace(".scs", "application/scvp-cv-response");
    mimetypes_map_.emplace(".spq", "application/scvp-vp-request");
    mimetypes_map_.emplace(".spp", "application/scvp-vp-response");
    mimetypes_map_.emplace(".sdp", "application/sdp");
    mimetypes_map_.emplace(".setpay", "application/set-payment-initiation");
    mimetypes_map_.emplace(".setreg", "application/set-registration-initiation");
    mimetypes_map_.emplace(".shf", "application/shf+xml");
    mimetypes_map_.emplace(".smi", "application/smil+xml");
    mimetypes_map_.emplace(".smil", "application/smil+xml");
    mimetypes_map_.emplace(".rq", "application/sparql-query");
    mimetypes_map_.emplace(".srx", "application/sparql-results+xml");
    mimetypes_map_.emplace(".gram", "application/srgs");
    mimetypes_map_.emplace(".grxml", "application/srgs+xml");
    mimetypes_map_.emplace(".ssml", "application/ssml+xml");
    mimetypes_map_.emplace(".plb", "application/vnd.3gpp.pic-bw-large");
    mimetypes_map_.emplace(".psb", "application/vnd.3gpp.pic-bw-small");
    mimetypes_map_.emplace(".pvb", "application/vnd.3gpp.pic-bw-var");
    mimetypes_map_.emplace(".tcap", "application/vnd.3gpp2.tcap");
    mimetypes_map_.emplace(".pwn", "application/vnd.3m.post-it-notes");
    mimetypes_map_.emplace(".aso", "application/vnd.accpac.simply.aso");
    mimetypes_map_.emplace(".imp", "application/vnd.accpac.simply.imp");
    mimetypes_map_.emplace(".acu", "application/vnd.acucobol");
    mimetypes_map_.emplace(".acutc", "application/vnd.acucorp");
    mimetypes_map_.emplace(".atc", "application/vnd.acucorp");
    mimetypes_map_.emplace(".air", "application/vnd.adobe.air-application-installer-package+zip");
    mimetypes_map_.emplace(".xdp", "application/vnd.adobe.xdp+xml");
    mimetypes_map_.emplace(".xfdf", "application/vnd.adobe.xfdf");
    mimetypes_map_.emplace(".azf", "application/vnd.airzip.filesecure.azf");
    mimetypes_map_.emplace(".azs", "application/vnd.airzip.filesecure.azs");
    mimetypes_map_.emplace(".azw", "application/vnd.amazon.ebook");
    mimetypes_map_.emplace(".acc", "application/vnd.americandynamics.acc");
    mimetypes_map_.emplace(".ami", "application/vnd.amiga.ami");
    mimetypes_map_.emplace(".apk", "application/vnd.android.package-archive");
    mimetypes_map_.emplace(".cii", "application/vnd.anser-web-certificate-issue-initiation");
    mimetypes_map_.emplace(".fti", "application/vnd.anser-web-funds-transfer-initiation");
    mimetypes_map_.emplace(".atx", "application/vnd.antix.game-component");
    mimetypes_map_.emplace(".mpkg", "application/vnd.apple.installer+xml");
    mimetypes_map_.emplace(".swi", "application/vnd.arastra.swi");
    mimetypes_map_.emplace(".aep", "application/vnd.audiograph");
    mimetypes_map_.emplace(".mpm", "application/vnd.blueice.multipass");
    mimetypes_map_.emplace(".bmi", "application/vnd.bmi");
    mimetypes_map_.emplace(".rep", "application/vnd.businessobjects");
    mimetypes_map_.emplace(".cdxml", "application/vnd.chemdraw+xml");
    mimetypes_map_.emplace(".mmd", "application/vnd.chipnuts.karaoke-mmd");
    mimetypes_map_.emplace(".cdy", "application/vnd.cinderella");
    mimetypes_map_.emplace(".cla", "application/vnd.claymore");
    mimetypes_map_.emplace(".c4d", "application/vnd.clonk.c4group");
    mimetypes_map_.emplace(".c4f", "application/vnd.clonk.c4group");
    mimetypes_map_.emplace(".c4g", "application/vnd.clonk.c4group");
    mimetypes_map_.emplace(".c4p", "application/vnd.clonk.c4group");
    mimetypes_map_.emplace(".c4u", "application/vnd.clonk.c4group");
    mimetypes_map_.emplace(".csp", "application/vnd.commonspace");
    mimetypes_map_.emplace(".cdbcmsg", "application/vnd.contact.cmsg");
    mimetypes_map_.emplace(".cmc", "application/vnd.cosmocaller");
    mimetypes_map_.emplace(".clkx", "application/vnd.crick.clicker");
    mimetypes_map_.emplace(".clkk", "application/vnd.crick.clicker.keyboard");
    mimetypes_map_.emplace(".clkp", "application/vnd.crick.clicker.palette");
    mimetypes_map_.emplace(".clkt", "application/vnd.crick.clicker.template");
    mimetypes_map_.emplace(".clkw", "application/vnd.crick.clicker.wordbank");
    mimetypes_map_.emplace(".wbs", "application/vnd.criticaltools.wbs+xml");
    mimetypes_map_.emplace(".pml", "application/vnd.ctc-posml");
    mimetypes_map_.emplace(".ppd", "application/vnd.cups-ppd");
    mimetypes_map_.emplace(".car", "application/vnd.curl.car");
    mimetypes_map_.emplace(".pcurl", "application/vnd.curl.pcurl");
    mimetypes_map_.emplace(".rdz", "application/vnd.data-vision.rdz");
    mimetypes_map_.emplace(".deb", "application/x-debian-package");
    mimetypes_map_.emplace(".udeb", "application/x-debian-package");
    mimetypes_map_.emplace(".fe_launch", "application/vnd.denovo.fcselayout-link");
    mimetypes_map_.emplace(".dna", "application/vnd.dna");
    mimetypes_map_.emplace(".mlp", "application/vnd.dolby.mlp");
    mimetypes_map_.emplace(".dpg", "application/vnd.dpgraph");
    mimetypes_map_.emplace(".dfac", "application/vnd.dreamfactory");
    mimetypes_map_.emplace(".geo", "application/vnd.dynageo");
    mimetypes_map_.emplace(".mag", "application/vnd.ecowin.chart");
    mimetypes_map_.emplace(".nml", "application/vnd.enliven");
    mimetypes_map_.emplace(".esf", "application/vnd.epson.esf");
    mimetypes_map_.emplace(".msf", "application/vnd.epson.msf");
    mimetypes_map_.emplace(".qam", "application/vnd.epson.quickanime");
    mimetypes_map_.emplace(".slt", "application/vnd.epson.salt");
    mimetypes_map_.emplace(".ssf", "application/vnd.epson.ssf");
    mimetypes_map_.emplace(".es3", "application/vnd.eszigno3+xml");
    mimetypes_map_.emplace(".et3", "application/vnd.eszigno3+xml");
    mimetypes_map_.emplace(".ez2", "application/vnd.ezpix-album");
    mimetypes_map_.emplace(".ez3", "application/vnd.ezpix-package");
    mimetypes_map_.emplace(".fdf", "application/vnd.fdf");
    mimetypes_map_.emplace(".mseed", "application/vnd.fdsn.mseed");
    mimetypes_map_.emplace(".dataless", "application/vnd.fdsn.seed");
    mimetypes_map_.emplace(".seed", "application/vnd.fdsn.seed");
    mimetypes_map_.emplace(".gph", "application/vnd.flographit");
    mimetypes_map_.emplace(".ftc", "application/vnd.fluxtime.clip");
    mimetypes_map_.emplace(".book", "application/vnd.framemaker");
    mimetypes_map_.emplace(".fm", "application/vnd.framemaker");
    mimetypes_map_.emplace(".frame", "application/vnd.framemaker");
    mimetypes_map_.emplace(".maker", "application/vnd.framemaker");
    mimetypes_map_.emplace(".fnc", "application/vnd.frogans.fnc");
    mimetypes_map_.emplace(".ltf", "application/vnd.frogans.ltf");
    mimetypes_map_.emplace(".fsc", "application/vnd.fsc.weblaunch");
    mimetypes_map_.emplace(".oas", "application/vnd.fujitsu.oasys");
    mimetypes_map_.emplace(".oa2", "application/vnd.fujitsu.oasys2");
    mimetypes_map_.emplace(".oa3", "application/vnd.fujitsu.oasys3");
    mimetypes_map_.emplace(".fg5", "application/vnd.fujitsu.oasysgp");
    mimetypes_map_.emplace(".bh2", "application/vnd.fujitsu.oasysprs");
    mimetypes_map_.emplace(".ddd", "application/vnd.fujixerox.ddd");
    mimetypes_map_.emplace(".xdw", "application/vnd.fujixerox.docuworks");
    mimetypes_map_.emplace(".xbd", "application/vnd.fujixerox.docuworks.binder");
    mimetypes_map_.emplace(".fzs", "application/vnd.fuzzysheet");
    mimetypes_map_.emplace(".txd", "application/vnd.genomatix.tuxedo");
    mimetypes_map_.emplace(".ggb", "application/vnd.geogebra.file");
    mimetypes_map_.emplace(".ggt", "application/vnd.geogebra.tool");
    mimetypes_map_.emplace(".gex", "application/vnd.geometry-explorer");
    mimetypes_map_.emplace(".gre", "application/vnd.geometry-explorer");
    mimetypes_map_.emplace(".gmx", "application/vnd.gmx");
    mimetypes_map_.emplace(".kml", "application/vnd.google-earth.kml+xml");
    mimetypes_map_.emplace(".kmz", "application/vnd.google-earth.kmz");
    mimetypes_map_.emplace(".gqf", "application/vnd.grafeq");
    mimetypes_map_.emplace(".gqs", "application/vnd.grafeq");
    mimetypes_map_.emplace(".gac", "application/vnd.groove-account");
    mimetypes_map_.emplace(".ghf", "application/vnd.groove-help");
    mimetypes_map_.emplace(".gim", "application/vnd.groove-identity-message");
    mimetypes_map_.emplace(".grv", "application/vnd.groove-injector");
    mimetypes_map_.emplace(".gtm", "application/vnd.groove-tool-message");
    mimetypes_map_.emplace(".tpl", "application/vnd.groove-tool-template");
    mimetypes_map_.emplace(".vcg", "application/vnd.groove-vcard");
    mimetypes_map_.emplace(".zmm", "application/vnd.handheld-entertainment+xml");
    mimetypes_map_.emplace(".hbci", "application/vnd.hbci");
    mimetypes_map_.emplace(".les", "application/vnd.hhe.lesson-player");
    mimetypes_map_.emplace(".hpgl", "application/vnd.hp-hpgl");
    mimetypes_map_.emplace(".hpid", "application/vnd.hp-hpid");
    mimetypes_map_.emplace(".hps", "application/vnd.hp-hps");
    mimetypes_map_.emplace(".jlt", "application/vnd.hp-jlyt");
    mimetypes_map_.emplace(".pcl", "application/vnd.hp-pcl");
    mimetypes_map_.emplace(".pclxl", "application/vnd.hp-pclxl");
    mimetypes_map_.emplace(".sfd-hdstx", "application/vnd.hydrostatix.sof-data");
    mimetypes_map_.emplace(".x3d", "application/vnd.hzn-3d-crossword");
    mimetypes_map_.emplace(".mpy", "application/vnd.ibm.minipay");
    mimetypes_map_.emplace(".afp", "application/vnd.ibm.modcap");
    mimetypes_map_.emplace(".list3820", "application/vnd.ibm.modcap");
    mimetypes_map_.emplace(".listafp", "application/vnd.ibm.modcap");
    mimetypes_map_.emplace(".irm", "application/vnd.ibm.rights-management");
    mimetypes_map_.emplace(".sc", "application/vnd.ibm.secure-container");
    mimetypes_map_.emplace(".icc", "application/vnd.iccprofile");
    mimetypes_map_.emplace(".icm", "application/vnd.iccprofile");
    mimetypes_map_.emplace(".igl", "application/vnd.igloader");
    mimetypes_map_.emplace(".ivp", "application/vnd.immervision-ivp");
    mimetypes_map_.emplace(".ivu", "application/vnd.immervision-ivu");
    mimetypes_map_.emplace(".xpw", "application/vnd.intercon.formnet");
    mimetypes_map_.emplace(".xpx", "application/vnd.intercon.formnet");
    mimetypes_map_.emplace(".qbo", "application/vnd.intu.qbo");
    mimetypes_map_.emplace(".qfx", "application/vnd.intu.qfx");
    mimetypes_map_.emplace(".rcprofile", "application/vnd.ipunplugged.rcprofile");
    mimetypes_map_.emplace(".irp", "application/vnd.irepository.package+xml");
    mimetypes_map_.emplace(".xpr", "application/vnd.is-xpr");
    mimetypes_map_.emplace(".jam", "application/vnd.jam");
    mimetypes_map_.emplace(".rms", "application/vnd.jcp.javame.midlet-rms");
    mimetypes_map_.emplace(".jisp", "application/vnd.jisp");
    mimetypes_map_.emplace(".joda", "application/vnd.joost.joda-archive");
    mimetypes_map_.emplace(".ktr", "application/vnd.kahootz");
    mimetypes_map_.emplace(".ktz", "application/vnd.kahootz");
    mimetypes_map_.emplace(".karbon", "application/vnd.kde.karbon");
    mimetypes_map_.emplace(".chrt", "application/vnd.kde.kchart");
    mimetypes_map_.emplace(".kfo", "application/vnd.kde.kformula");
    mimetypes_map_.emplace(".flw", "application/vnd.kde.kivio");
    mimetypes_map_.emplace(".kon", "application/vnd.kde.kontour");
    mimetypes_map_.emplace(".kpr", "application/vnd.kde.kpresenter");
    mimetypes_map_.emplace(".kpt", "application/vnd.kde.kpresenter");
    mimetypes_map_.emplace(".ksp", "application/vnd.kde.kspread");
    mimetypes_map_.emplace(".kwd", "application/vnd.kde.kword");
    mimetypes_map_.emplace(".kwt", "application/vnd.kde.kword");
    mimetypes_map_.emplace(".htke", "application/vnd.kenameaapp");
    mimetypes_map_.emplace(".kia", "application/vnd.kidspiration");
    mimetypes_map_.emplace(".kne", "application/vnd.kinar");
    mimetypes_map_.emplace(".knp", "application/vnd.kinar");
    mimetypes_map_.emplace(".skd", "application/vnd.koan");
    mimetypes_map_.emplace(".skm", "application/vnd.koan");
    mimetypes_map_.emplace(".skp", "application/vnd.koan");
    mimetypes_map_.emplace(".skt", "application/vnd.koan");
    mimetypes_map_.emplace(".sse", "application/vnd.kodak-descriptor");
    mimetypes_map_.emplace(".lbd", "application/vnd.llamagraphics.life-balance.desktop");
    mimetypes_map_.emplace(".lbe", "application/vnd.llamagraphics.life-balance.exchange+xml");
    mimetypes_map_.emplace(".123", "application/vnd.lotus-1-2-3");
    mimetypes_map_.emplace(".apr", "application/vnd.lotus-approach");
    mimetypes_map_.emplace(".pre", "application/vnd.lotus-freelance");
    mimetypes_map_.emplace(".nsf", "application/vnd.lotus-notes");
    mimetypes_map_.emplace(".org", "application/vnd.lotus-organizer");
    mimetypes_map_.emplace(".scm", "application/vnd.lotus-screencam");
    mimetypes_map_.emplace(".lwp", "application/vnd.lotus-wordpro");
    mimetypes_map_.emplace(".portpkg", "application/vnd.macports.portpkg");
    mimetypes_map_.emplace(".mcd", "application/vnd.mcd");
    mimetypes_map_.emplace(".mc1", "application/vnd.medcalcdata");
    mimetypes_map_.emplace(".cdkey", "application/vnd.mediastation.cdkey");
    mimetypes_map_.emplace(".mwf", "application/vnd.mfer");
    mimetypes_map_.emplace(".mfm", "application/vnd.mfmp");
    mimetypes_map_.emplace(".flo", "application/vnd.micrografx.flo");
    mimetypes_map_.emplace(".igx", "application/vnd.micrografx.igx");
    mimetypes_map_.emplace(".mif", "application/vnd.mif");
    mimetypes_map_.emplace(".daf", "application/vnd.mobius.daf");
    mimetypes_map_.emplace(".dis", "application/vnd.mobius.dis");
    mimetypes_map_.emplace(".mbk", "application/vnd.mobius.mbk");
    mimetypes_map_.emplace(".mqy", "application/vnd.mobius.mqy");
    mimetypes_map_.emplace(".msl", "application/vnd.mobius.msl");
    mimetypes_map_.emplace(".plc", "application/vnd.mobius.plc");
    mimetypes_map_.emplace(".txf", "application/vnd.mobius.txf");
    mimetypes_map_.emplace(".mpn", "application/vnd.mophun.application");
    mimetypes_map_.emplace(".mpc", "application/vnd.mophun.certificate");
    mimetypes_map_.emplace(".xul", "application/vnd.mozilla.xul+xml");
    mimetypes_map_.emplace(".cil", "application/vnd.ms-artgalry");
    mimetypes_map_.emplace(".cab", "application/vnd.ms-cab-compressed");
    mimetypes_map_.emplace(".xla", "application/vnd.ms-excel");
    mimetypes_map_.emplace(".xlb", "application/vnd.ms-excel");
    mimetypes_map_.emplace(".xlc", "application/vnd.ms-excel");
    mimetypes_map_.emplace(".xlm", "application/vnd.ms-excel");
    mimetypes_map_.emplace(".xls", "application/vnd.ms-excel");
    mimetypes_map_.emplace(".xlt", "application/vnd.ms-excel");
    mimetypes_map_.emplace(".xlw", "application/vnd.ms-excel");
    mimetypes_map_.emplace(".xlam", "application/vnd.ms-excel.addin.macroenabled.12");
    mimetypes_map_.emplace(".xlsb", "application/vnd.ms-excel.sheet.binary.macroenabled.12");
    mimetypes_map_.emplace(".xlsm", "application/vnd.ms-excel.sheet.macroenabled.12");
    mimetypes_map_.emplace(".xltm", "application/vnd.ms-excel.template.macroenabled.12");
    mimetypes_map_.emplace(".eot", "application/vnd.ms-fontobject");
    mimetypes_map_.emplace(".chm", "application/vnd.ms-htmlhelp");
    mimetypes_map_.emplace(".ims", "application/vnd.ms-ims");
    mimetypes_map_.emplace(".lrm", "application/vnd.ms-lrm");
    mimetypes_map_.emplace(".cat", "application/vnd.ms-pki.seccat");
    mimetypes_map_.emplace(".stl", "application/vnd.ms-pki.stl");
    mimetypes_map_.emplace(".pot", "application/vnd.ms-powerpoint");
    mimetypes_map_.emplace(".ppa", "application/vnd.ms-powerpoint");
    mimetypes_map_.emplace(".pps", "application/vnd.ms-powerpoint");
    mimetypes_map_.emplace(".ppt", "application/vnd.ms-powerpoint");
    mimetypes_map_.emplace(".pwz", "application/vnd.ms-powerpoint");
    mimetypes_map_.emplace(".ppam", "application/vnd.ms-powerpoint.addin.macroenabled.12");
    mimetypes_map_.emplace(".pptm", "application/vnd.ms-powerpoint.presentation.macroenabled.12");
    mimetypes_map_.emplace(".sldm", "application/vnd.ms-powerpoint.slide.macroenabled.12");
    mimetypes_map_.emplace(".ppsm", "application/vnd.ms-powerpoint.slideshow.macroenabled.12");
    mimetypes_map_.emplace(".potm", "application/vnd.ms-powerpoint.template.macroenabled.12");
    mimetypes_map_.emplace(".mpp", "application/vnd.ms-project");
    mimetypes_map_.emplace(".mpt", "application/vnd.ms-project");
    mimetypes_map_.emplace(".docm", "application/vnd.ms-word.document.macroenabled.12");
    mimetypes_map_.emplace(".dotm", "application/vnd.ms-word.template.macroenabled.12");
    mimetypes_map_.emplace(".wcm", "application/vnd.ms-works");
    mimetypes_map_.emplace(".wdb", "application/vnd.ms-works");
    mimetypes_map_.emplace(".wks", "application/vnd.ms-works");
    mimetypes_map_.emplace(".wps", "application/vnd.ms-works");
    mimetypes_map_.emplace(".wpl", "application/vnd.ms-wpl");
    mimetypes_map_.emplace(".xps", "application/vnd.ms-xpsdocument");
    mimetypes_map_.emplace(".mseq", "application/vnd.mseq");
    mimetypes_map_.emplace(".mus", "application/vnd.musician");
    mimetypes_map_.emplace(".msty", "application/vnd.muvee.style");
    mimetypes_map_.emplace(".nlu", "application/vnd.neurolanguage.nlu");
    mimetypes_map_.emplace(".nnd", "application/vnd.noblenet-directory");
    mimetypes_map_.emplace(".nns", "application/vnd.noblenet-sealer");
    mimetypes_map_.emplace(".nnw", "application/vnd.noblenet-web");
    mimetypes_map_.emplace(".ngdat", "application/vnd.nokia.n-gage.data");
    mimetypes_map_.emplace(".n-gage", "application/vnd.nokia.n-gage.symbian.install");
    mimetypes_map_.emplace(".rpst", "application/vnd.nokia.radio-preset");
    mimetypes_map_.emplace(".rpss", "application/vnd.nokia.radio-presets");
    mimetypes_map_.emplace(".edm", "application/vnd.novadigm.edm");
    mimetypes_map_.emplace(".edx", "application/vnd.novadigm.edx");
    mimetypes_map_.emplace(".ext", "application/vnd.novadigm.ext");
    mimetypes_map_.emplace(".odc", "application/vnd.oasis.opendocument.chart");
    mimetypes_map_.emplace(".otc", "application/vnd.oasis.opendocument.chart-template");
    mimetypes_map_.emplace(".odb", "application/vnd.oasis.opendocument.database");
    mimetypes_map_.emplace(".odf", "application/vnd.oasis.opendocument.formula");
    mimetypes_map_.emplace(".odft", "application/vnd.oasis.opendocument.formula-template");
    mimetypes_map_.emplace(".odg", "application/vnd.oasis.opendocument.graphics");
    mimetypes_map_.emplace(".otg", "application/vnd.oasis.opendocument.graphics-template");
    mimetypes_map_.emplace(".odi", "application/vnd.oasis.opendocument.image");
    mimetypes_map_.emplace(".oti", "application/vnd.oasis.opendocument.image-template");
    mimetypes_map_.emplace(".odp", "application/vnd.oasis.opendocument.presentation");
    mimetypes_map_.emplace(".otp", "application/vnd.oasis.opendocument.presentation-template");
    mimetypes_map_.emplace(".ods", "application/vnd.oasis.opendocument.spreadsheet");
    mimetypes_map_.emplace(".ots", "application/vnd.oasis.opendocument.spreadsheet-template");
    mimetypes_map_.emplace(".odt", "application/vnd.oasis.opendocument.text");
    mimetypes_map_.emplace(".otm", "application/vnd.oasis.opendocument.text-master");
    mimetypes_map_.emplace(".ott", "application/vnd.oasis.opendocument.text-template");
    mimetypes_map_.emplace(".oth", "application/vnd.oasis.opendocument.text-web");
    mimetypes_map_.emplace(".xo", "application/vnd.olpc-sugar");
    mimetypes_map_.emplace(".dd2", "application/vnd.oma.dd2+xml");
    mimetypes_map_.emplace(".oxt", "application/vnd.openofficeorg.extension");
    mimetypes_map_.emplace(".pptx", "application/vnd.openxmlformats-officedocument.presentationml.presentation");
    mimetypes_map_.emplace(".sldx", "application/vnd.openxmlformats-officedocument.presentationml.slide");
    mimetypes_map_.emplace(".ppsx", "application/vnd.openxmlformats-officedocument.presentationml.slideshow");
    mimetypes_map_.emplace(".potx", "application/vnd.openxmlformats-officedocument.presentationml.template");
    mimetypes_map_.emplace(".xlsx", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");
    mimetypes_map_.emplace(".xltx", "application/vnd.openxmlformats-officedocument.spreadsheetml.template");
    mimetypes_map_.emplace(".docx", "application/vnd.openxmlformats-officedocument.wordprocessingml.document");
    mimetypes_map_.emplace(".dotx", "application/vnd.openxmlformats-officedocument.wordprocessingml.template");
    mimetypes_map_.emplace(".dp", "application/vnd.osgi.dp");
    mimetypes_map_.emplace(".oprc", "application/vnd.palm");
    mimetypes_map_.emplace(".pdb", "application/vnd.palm");
    mimetypes_map_.emplace(".pqa", "application/vnd.palm");
    mimetypes_map_.emplace(".str", "application/vnd.pg.format");
    mimetypes_map_.emplace(".ei6", "application/vnd.pg.osasli");
    mimetypes_map_.emplace(".efif", "application/vnd.picsel");
    mimetypes_map_.emplace(".plf", "application/vnd.pocketlearn");
    mimetypes_map_.emplace(".pbd", "application/vnd.powerbuilder6");
    mimetypes_map_.emplace(".box", "application/vnd.previewsystems.box");
    mimetypes_map_.emplace(".mgz", "application/vnd.proteus.magazine");
    mimetypes_map_.emplace(".qps", "application/vnd.publishare-delta-tree");
    mimetypes_map_.emplace(".ptid", "application/vnd.pvi.ptid1");
    mimetypes_map_.emplace(".qwd", "application/vnd.quark.quarkxpress");
    mimetypes_map_.emplace(".qwt", "application/vnd.quark.quarkxpress");
    mimetypes_map_.emplace(".qxb", "application/vnd.quark.quarkxpress");
    mimetypes_map_.emplace(".qxd", "application/vnd.quark.quarkxpress");
    mimetypes_map_.emplace(".qxl", "application/vnd.quark.quarkxpress");
    mimetypes_map_.emplace(".qxt", "application/vnd.quark.quarkxpress");
    mimetypes_map_.emplace(".mxl", "application/vnd.recordare.musicxml");
    mimetypes_map_.emplace(".musicxml", "application/vnd.recordare.musicxml+xml");
    mimetypes_map_.emplace(".cod", "application/vnd.rim.cod");
    mimetypes_map_.emplace(".rm", "application/vnd.rn-realmedia");
    mimetypes_map_.emplace(".link66", "application/vnd.route66.link66+xml");
    mimetypes_map_.emplace(".see", "application/vnd.seemail");
    mimetypes_map_.emplace(".sema", "application/vnd.sema");
    mimetypes_map_.emplace(".semd", "application/vnd.semd");
    mimetypes_map_.emplace(".semf", "application/vnd.semf");
    mimetypes_map_.emplace(".ifm", "application/vnd.shana.informed.formdata");
    mimetypes_map_.emplace(".itp", "application/vnd.shana.informed.formtemplate");
    mimetypes_map_.emplace(".iif", "application/vnd.shana.informed.interchange");
    mimetypes_map_.emplace(".ipk", "application/vnd.shana.informed.package");
    mimetypes_map_.emplace(".twd", "application/vnd.simtech-mindmapper");
    mimetypes_map_.emplace(".twds", "application/vnd.simtech-mindmapper");
    mimetypes_map_.emplace(".mmf", "application/vnd.smaf");
    mimetypes_map_.emplace(".teacher", "application/vnd.smart.teacher");
    mimetypes_map_.emplace(".sdkd", "application/vnd.solent.sdkm+xml");
    mimetypes_map_.emplace(".sdkm", "application/vnd.solent.sdkm+xml");
    mimetypes_map_.emplace(".dxp", "application/vnd.spotfire.dxp");
    mimetypes_map_.emplace(".sfs", "application/vnd.spotfire.sfs");
    mimetypes_map_.emplace(".db", "application/vnd.sqlite3");
    mimetypes_map_.emplace(".sqlite", "application/vnd.sqlite3");
    mimetypes_map_.emplace(".sqlite3", "application/vnd.sqlite3");
    mimetypes_map_.emplace(".db-wal", "application/vnd.sqlite3");
    mimetypes_map_.emplace(".sqlite-wal", "application/vnd.sqlite3");
    mimetypes_map_.emplace(".db-shm", "application/vnd.sqlite3");
    mimetypes_map_.emplace(".sqlite-shm", "application/vnd.sqlite3");
    mimetypes_map_.emplace(".sdc", "application/vnd.stardivision.calc");
    mimetypes_map_.emplace(".sda", "application/vnd.stardivision.draw");
    mimetypes_map_.emplace(".sdd", "application/vnd.stardivision.impress");
    mimetypes_map_.emplace(".smf", "application/vnd.stardivision.math");
    mimetypes_map_.emplace(".sdw", "application/vnd.stardivision.writer");
    mimetypes_map_.emplace(".vor", "application/vnd.stardivision.writer");
    mimetypes_map_.emplace(".sgl", "application/vnd.stardivision.writer-global");
    mimetypes_map_.emplace(".sxc", "application/vnd.sun.xml.calc");
    mimetypes_map_.emplace(".stc", "application/vnd.sun.xml.calc.template");
    mimetypes_map_.emplace(".sxd", "application/vnd.sun.xml.draw");
    mimetypes_map_.emplace(".std", "application/vnd.sun.xml.draw.template");
    mimetypes_map_.emplace(".sxi", "application/vnd.sun.xml.impress");
    mimetypes_map_.emplace(".sti", "application/vnd.sun.xml.impress.template");
    mimetypes_map_.emplace(".sxm", "application/vnd.sun.xml.math");
    mimetypes_map_.emplace(".sxw", "application/vnd.sun.xml.writer");
    mimetypes_map_.emplace(".sxg", "application/vnd.sun.xml.writer.global");
    mimetypes_map_.emplace(".stw", "application/vnd.sun.xml.writer.template");
    mimetypes_map_.emplace(".sus", "application/vnd.sus-calendar");
    mimetypes_map_.emplace(".susp", "application/vnd.sus-calendar");
    mimetypes_map_.emplace(".svd", "application/vnd.svd");
    mimetypes_map_.emplace(".sis", "application/vnd.symbian.install");
    mimetypes_map_.emplace(".sisx", "application/vnd.symbian.install");
    mimetypes_map_.emplace(".xsm", "application/vnd.syncml+xml");
    mimetypes_map_.emplace(".bdm", "application/vnd.syncml.dm+wbxml");
    mimetypes_map_.emplace(".xdm", "application/vnd.syncml.dm+xml");
    mimetypes_map_.emplace(".tao", "application/vnd.tao.intent-module-archive");
    mimetypes_map_.emplace(".tmo", "application/vnd.tmobile-livetv");
    mimetypes_map_.emplace(".tpt", "application/vnd.trid.tpt");
    mimetypes_map_.emplace(".mxs", "application/vnd.triscape.mxs");
    mimetypes_map_.emplace(".tra", "application/vnd.trueapp");
    mimetypes_map_.emplace(".ufd", "application/vnd.ufdl");
    mimetypes_map_.emplace(".ufdl", "application/vnd.ufdl");
    mimetypes_map_.emplace(".utz", "application/vnd.uiq.theme");
    mimetypes_map_.emplace(".umj", "application/vnd.umajin");
    mimetypes_map_.emplace(".unityweb", "application/vnd.unity");
    mimetypes_map_.emplace(".uoml", "application/vnd.uoml+xml");
    mimetypes_map_.emplace(".vcx", "application/vnd.vcx");
    mimetypes_map_.emplace(".vsd", "application/vnd.visio");
    mimetypes_map_.emplace(".vss", "application/vnd.visio");
    mimetypes_map_.emplace(".vst", "application/vnd.visio");
    mimetypes_map_.emplace(".vsw", "application/vnd.visio");
    mimetypes_map_.emplace(".vis", "application/vnd.visionary");
    mimetypes_map_.emplace(".vsf", "application/vnd.vsf");
    mimetypes_map_.emplace(".sic", "application/vnd.wap.sic");
    mimetypes_map_.emplace(".slc", "application/vnd.wap.slc");
    mimetypes_map_.emplace(".wbxml", "application/vnd.wap.wbxml");
    mimetypes_map_.emplace(".wmlc", "application/vnd.wap.wmlc");
    mimetypes_map_.emplace(".wmlsc", "application/vnd.wap.wmlscriptc");
    mimetypes_map_.emplace(".wtb", "application/vnd.webturbo");
    mimetypes_map_.emplace(".wpd", "application/vnd.wordperfect");
    mimetypes_map_.emplace(".wqd", "application/vnd.wqd");
    mimetypes_map_.emplace(".stf", "application/vnd.wt.stf");
    mimetypes_map_.emplace(".xar", "application/vnd.xara");
    mimetypes_map_.emplace(".xfdl", "application/vnd.xfdl");
    mimetypes_map_.emplace(".hvd", "application/vnd.yamaha.hv-dic");
    mimetypes_map_.emplace(".hvs", "application/vnd.yamaha.hv-script");
    mimetypes_map_.emplace(".hvp", "application/vnd.yamaha.hv-voice");
    mimetypes_map_.emplace(".osf", "application/vnd.yamaha.openscoreformat");
    mimetypes_map_.emplace(".osfpvg", "application/vnd.yamaha.openscoreformat.osfpvg+xml");
    mimetypes_map_.emplace(".saf", "application/vnd.yamaha.smaf-audio");
    mimetypes_map_.emplace(".spf", "application/vnd.yamaha.smaf-phrase");
    mimetypes_map_.emplace(".cmp", "application/vnd.yellowriver-custom-menu");
    mimetypes_map_.emplace(".zir", "application/vnd.zul");
    mimetypes_map_.emplace(".zirz", "application/vnd.zul");
    mimetypes_map_.emplace(".zaz", "application/vnd.zzazz.deck+xml");
    mimetypes_map_.emplace(".vxml", "application/voicexml+xml");
    mimetypes_map_.emplace(".hlp", "application/winhlp");
    mimetypes_map_.emplace(".wsdl", "application/wsdl+xml");
    mimetypes_map_.emplace(".wspolicy", "application/wspolicy+xml");
    mimetypes_map_.emplace(".7z", "application/x-7z-compressed");
    mimetypes_map_.emplace(".abw", "application/x-abiword");
    mimetypes_map_.emplace(".ace", "application/x-ace-compressed");
    mimetypes_map_.emplace(".aab", "application/x-authorware-bin");
    mimetypes_map_.emplace(".u32", "application/x-authorware-bin");
    mimetypes_map_.emplace(".vox", "application/x-authorware-bin");
    mimetypes_map_.emplace(".x32", "application/x-authorware-bin");
    mimetypes_map_.emplace(".aam", "application/x-authorware-map");
    mimetypes_map_.emplace(".aas", "application/x-authorware-seg");
    mimetypes_map_.emplace(".bcpio", "application/x-bcpio");
    mimetypes_map_.emplace(".torrent", "application/x-bittorrent");
    mimetypes_map_.emplace(".bz", "application/x-bzip");
    mimetypes_map_.emplace(".boz", "application/x-bzip2");
    mimetypes_map_.emplace(".bz2", "application/x-bzip2");
    mimetypes_map_.emplace(".vcd", "application/x-cdlink");
    mimetypes_map_.emplace(".chat", "application/x-chat");
    mimetypes_map_.emplace(".pgn", "application/x-chess-pgn");
    mimetypes_map_.emplace(".cpio", "application/x-cpio");
    mimetypes_map_.emplace(".csh", "application/x-csh");
    mimetypes_map_.emplace(".cct", "application/x-director");
    mimetypes_map_.emplace(".cst", "application/x-director");
    mimetypes_map_.emplace(".cxt", "application/x-director");
    mimetypes_map_.emplace(".dcr", "image/x-kodak-dcr");
    mimetypes_map_.emplace(".dir", "application/x-director");
    mimetypes_map_.emplace(".dxr", "application/x-director");
    mimetypes_map_.emplace(".fgd", "application/x-director");
    mimetypes_map_.emplace(".swa", "application/x-director");
    mimetypes_map_.emplace(".w3d", "application/x-director");
    mimetypes_map_.emplace(".wad", "application/x-doom");
    mimetypes_map_.emplace(".ncx", "application/x-dtbncx+xml");
    mimetypes_map_.emplace(".dtb", "application/x-dtbook+xml");
    mimetypes_map_.emplace(".res", "application/x-dtbresource+xml");
    mimetypes_map_.emplace(".dvi", "application/x-dvi");
    mimetypes_map_.emplace(".bdf", "application/x-font-bdf");
    mimetypes_map_.emplace(".gsf", "application/x-font-ghostscript");
    mimetypes_map_.emplace(".psf", "application/x-font-linux-psf");
    mimetypes_map_.emplace(".otf", "font/otf");
    mimetypes_map_.emplace(".pcf", "application/x-font-pcf");
    mimetypes_map_.emplace(".snf", "application/x-font-snf");
    mimetypes_map_.emplace(".ttc", "application/x-font-ttf");
    mimetypes_map_.emplace(".ttf", "application/x-font-ttf");
    mimetypes_map_.emplace(".afm", "application/x-font-type1");
    mimetypes_map_.emplace(".pfa", "application/x-font-type1");
    mimetypes_map_.emplace(".pfb", "application/x-font-type1");
    mimetypes_map_.emplace(".pfm", "application/x-font-type1");
    mimetypes_map_.emplace(".spl", "application/x-futuresplash");
    mimetypes_map_.emplace(".gnumeric", "application/x-gnumeric");
    mimetypes_map_.emplace(".gtar", "application/x-gtar");
    mimetypes_map_.emplace(".hdf", "application/x-hdf");
    mimetypes_map_.emplace(".jnlp", "application/x-java-jnlp-file");
    mimetypes_map_.emplace(".kil", "application/x-killustrator");
    mimetypes_map_.emplace(".kra", "application/x-krita");
    mimetypes_map_.emplace(".krz", "application/x-krita");
    mimetypes_map_.emplace(".latex", "application/x-latex");
    mimetypes_map_.emplace(".mobi", "application/x-mobipocket-ebook");
    mimetypes_map_.emplace(".prc", "application/x-mobipocket-ebook");
    mimetypes_map_.emplace(".application", "application/x-ms-application");
    mimetypes_map_.emplace(".wmd", "application/x-ms-wmd");
    mimetypes_map_.emplace(".wmz", "application/x-ms-wmz");
    mimetypes_map_.emplace(".xbap", "application/x-ms-xbap");
    mimetypes_map_.emplace(".mdb", "application/x-msaccess");
    mimetypes_map_.emplace(".obd", "application/x-msbinder");
    mimetypes_map_.emplace(".crd", "application/x-mscardfile");
    mimetypes_map_.emplace(".clp", "application/x-msclip");
    mimetypes_map_.emplace(".bat", "application/x-msdownload");
    mimetypes_map_.emplace(".com", "application/x-msdownload");
    mimetypes_map_.emplace(".dll", "application/x-msdownload");
    mimetypes_map_.emplace(".exe", "application/x-msdownload");
    mimetypes_map_.emplace(".msi", "application/x-msdownload");
    mimetypes_map_.emplace(".m13", "application/x-msmediaview");
    mimetypes_map_.emplace(".m14", "application/x-msmediaview");
    mimetypes_map_.emplace(".mvb", "application/x-msmediaview");
    mimetypes_map_.emplace(".wmf", "application/x-msmetafile");
    mimetypes_map_.emplace(".mny", "application/x-msmoney");
    mimetypes_map_.emplace(".pub", "application/x-mspublisher");
    mimetypes_map_.emplace(".scd", "application/x-msschedule");
    mimetypes_map_.emplace(".trm", "application/x-msterminal");
    mimetypes_map_.emplace(".wri", "application/x-mswrite");
    mimetypes_map_.emplace(".cdf", "application/x-netcdf");
    mimetypes_map_.emplace(".nc", "application/x-netcdf");
    mimetypes_map_.emplace(".pm", "application/x-perl");
    mimetypes_map_.emplace(".pl", "text/plain");
    mimetypes_map_.emplace(".p12", "application/x-pkcs12");
    mimetypes_map_.emplace(".pfx", "application/x-pkcs12");
    mimetypes_map_.emplace(".p7b", "application/x-pkcs7-certificates");
    mimetypes_map_.emplace(".spc", "application/x-pkcs7-certificates");
    mimetypes_map_.emplace(".pyc", "application/x-python-code");
    mimetypes_map_.emplace(".pyo", "application/x-python-code");
    mimetypes_map_.emplace(".rpa", "application/x-redhat-package-manager");
    mimetypes_map_.emplace(".rpm", "application/x-rpm");
    mimetypes_map_.emplace(".sh", "application/x-shellscript");
    mimetypes_map_.emplace(".shar", "application/x-shar");
    mimetypes_map_.emplace(".swf", "application/x-shockwave-flash");
    mimetypes_map_.emplace(".xap", "application/x-silverlight-app");
    mimetypes_map_.emplace(".sit", "application/x-stuffit");
    mimetypes_map_.emplace(".sitx", "application/x-stuffitx");
    mimetypes_map_.emplace(".sv4cpio", "application/x-sv4cpio");
    mimetypes_map_.emplace(".sv4crc", "application/x-sv4crc");
    mimetypes_map_.emplace(".tar", "application/x-tar");
    mimetypes_map_.emplace(".tcl", "application/x-tcl");
    mimetypes_map_.emplace(".tex", "application/x-tex");
    mimetypes_map_.emplace(".tfm", "application/x-tex-tfm");
    mimetypes_map_.emplace(".texi", "application/x-texinfo");
    mimetypes_map_.emplace(".texinfo", "application/x-texinfo");
    mimetypes_map_.emplace(".ustar", "application/x-ustar");
    mimetypes_map_.emplace(".src", "application/x-wais-source");
    mimetypes_map_.emplace(".crt", "application/x-x509-ca-cert");
    mimetypes_map_.emplace(".der", "application/x-x509-ca-cert");
    mimetypes_map_.emplace(".fig", "application/x-xfig");
    mimetypes_map_.emplace(".xpi", "application/x-xpinstall");
    mimetypes_map_.emplace(".xenc", "application/xenc+xml");
    mimetypes_map_.emplace(".xht", "application/xhtml+xml");
    mimetypes_map_.emplace(".xhtml", "application/xhtml+xml");
    mimetypes_map_.emplace(".xml", "application/xml");
    mimetypes_map_.emplace(".xpdl", "application/xml");
    mimetypes_map_.emplace(".xsl", "application/xml");
    mimetypes_map_.emplace(".dtd", "application/xml-dtd");
    mimetypes_map_.emplace(".xop", "application/xop+xml");
    mimetypes_map_.emplace(".xslt", "application/xslt+xml");
    mimetypes_map_.emplace(".xspf", "application/xspf+xml");
    mimetypes_map_.emplace(".mxml", "application/xv+xml");
    mimetypes_map_.emplace(".xhvml", "application/xv+xml");
    mimetypes_map_.emplace(".xvm", "application/xv+xml");
    mimetypes_map_.emplace(".xvml", "application/xv+xml");
    mimetypes_map_.emplace(".zip", "application/zip");
    mimetypes_map_.emplace(".3gp", "video/3gpp");
    mimetypes_map_.emplace(".3g2", "video/3gpp2");
    mimetypes_map_.emplace(".adp", "audio/adpcm");
    mimetypes_map_.emplace(".aiff", "audio/x-aiff");
    mimetypes_map_.emplace(".aif", "audio/x-aiff");
    mimetypes_map_.emplace(".aff", "audio/aiff");
    mimetypes_map_.emplace(".au", "audio/basic");
    mimetypes_map_.emplace(".snd", "audio/basic");
    mimetypes_map_.emplace(".flac", "audio/flac");
    mimetypes_map_.emplace(".kar", "audio/midi");
    mimetypes_map_.emplace(".mid", "audio/midi");
    mimetypes_map_.emplace(".midi", "audio/midi");
    mimetypes_map_.emplace(".rmi", "audio/midi");
    mimetypes_map_.emplace(".mp4a", "audio/mp4");
    mimetypes_map_.emplace(".m2a", "audio/mpeg");
    mimetypes_map_.emplace(".m3a", "audio/mpeg");
    mimetypes_map_.emplace(".mp2", "audio/mpeg");
    mimetypes_map_.emplace(".mp2a", "audio/mpeg");
    mimetypes_map_.emplace(".mp3", "audio/mpeg");
    mimetypes_map_.emplace(".mpga", "audio/mpeg");
    mimetypes_map_.emplace(".oga", "audio/ogg");
    mimetypes_map_.emplace(".ogg", "audio/ogg");
    mimetypes_map_.emplace(".spx", "audio/ogg");
    mimetypes_map_.emplace(".opus", "audio/opus");
    mimetypes_map_.emplace(".eol", "audio/vnd.digital-winds");
    mimetypes_map_.emplace(".dts", "audio/vnd.dts");
    mimetypes_map_.emplace(".dtshd", "audio/vnd.dts.hd");
    mimetypes_map_.emplace(".lvp", "audio/vnd.lucent.voice");
    mimetypes_map_.emplace(".pya", "audio/vnd.ms-playready.media.pya");
    mimetypes_map_.emplace(".ecelp4800", "audio/vnd.nuera.ecelp4800");
    mimetypes_map_.emplace(".ecelp7470", "audio/vnd.nuera.ecelp7470");
    mimetypes_map_.emplace(".ecelp9600", "audio/vnd.nuera.ecelp9600");
    mimetypes_map_.emplace(".wav", "audio/wav");
    mimetypes_map_.emplace(".weba", "audio/webm");
    mimetypes_map_.emplace(".aac", "audio/x-aac");
    mimetypes_map_.emplace(".aifc", "audio/x-aiff");
    mimetypes_map_.emplace(".mka", "audio/x-matroska");
    mimetypes_map_.emplace(".m3u", "audio/x-mpegurl");
    mimetypes_map_.emplace(".wax", "audio/x-ms-wax");
    mimetypes_map_.emplace(".wma", "audio/x-ms-wma");
    mimetypes_map_.emplace(".ra", "audio/x-pn-realaudio");
    mimetypes_map_.emplace(".ram", "audio/x-pn-realaudio");
    mimetypes_map_.emplace(".rmp", "audio/x-pn-realaudio-plugin");
    mimetypes_map_.emplace(".cdx", "chemical/x-cdx");
    mimetypes_map_.emplace(".cif", "chemical/x-cif");
    mimetypes_map_.emplace(".cmdf", "chemical/x-cmdf");
    mimetypes_map_.emplace(".cml", "chemical/x-cml");
    mimetypes_map_.emplace(".csml", "chemical/x-csml");
    mimetypes_map_.emplace(".xyz", "chemical/x-xyz");
    mimetypes_map_.emplace(".woff", "font/woff");
    mimetypes_map_.emplace(".woff2", "font/woff2");
    mimetypes_map_.emplace(".gcode", "gcode");
    mimetypes_map_.emplace(".avif", "image/avif");
    mimetypes_map_.emplace(".avifs", "image/avif");
    mimetypes_map_.emplace(".bmp", "image/bmp");
    mimetypes_map_.emplace(".cgm", "image/cgm");
    mimetypes_map_.emplace(".g3", "image/g3fax");
    mimetypes_map_.emplace(".gif", "image/gif");
    mimetypes_map_.emplace(".heif", "image/heic");
    mimetypes_map_.emplace(".heic", "image/heic");
    mimetypes_map_.emplace(".ief", "image/ief");
    mimetypes_map_.emplace(".jpe", "image/pjpeg");
    mimetypes_map_.emplace(".jpeg", "image/pjpeg");
    mimetypes_map_.emplace(".jpg", "image/pjpeg");
    mimetypes_map_.emplace(".pjpg", "image/pjpeg");
    mimetypes_map_.emplace(".jfif", "image/pjpeg");
    mimetypes_map_.emplace(".jfif-tbnl", "image/pjpeg");
    mimetypes_map_.emplace(".jif", "image/pjpeg");
    mimetypes_map_.emplace(".jfi", "image/pjpeg");
    mimetypes_map_.emplace(".png", "image/png");
    mimetypes_map_.emplace(".btif", "image/prs.btif");
    mimetypes_map_.emplace(".svg", "image/svg+xml");
    mimetypes_map_.emplace(".svgz", "image/svg+xml");
    mimetypes_map_.emplace(".tif", "image/tiff");
    mimetypes_map_.emplace(".tiff", "image/tiff");
    mimetypes_map_.emplace(".psd", "image/vnd.adobe.photoshop");
    mimetypes_map_.emplace(".djv", "image/vnd.djvu");
    mimetypes_map_.emplace(".djvu", "image/vnd.djvu");
    mimetypes_map_.emplace(".dwg", "image/vnd.dwg");
    mimetypes_map_.emplace(".dxf", "image/vnd.dxf");
    mimetypes_map_.emplace(".fbs", "image/vnd.fastbidsheet");
    mimetypes_map_.emplace(".fpx", "image/vnd.fpx");
    mimetypes_map_.emplace(".fst", "image/vnd.fst");
    mimetypes_map_.emplace(".mmr", "image/vnd.fujixerox.edmics-mmr");
    mimetypes_map_.emplace(".rlc", "image/vnd.fujixerox.edmics-rlc");
    mimetypes_map_.emplace(".mdi", "image/vnd.ms-modi");
    mimetypes_map_.emplace(".npx", "image/vnd.net-fpx");
    mimetypes_map_.emplace(".wbmp", "image/vnd.wap.wbmp");
    mimetypes_map_.emplace(".xif", "image/vnd.xiff");
    mimetypes_map_.emplace(".webp", "image/webp");
    mimetypes_map_.emplace(".dng", "image/x-adobe-dng");
    mimetypes_map_.emplace(".cr2", "image/x-canon-cr2");
    mimetypes_map_.emplace(".crw", "image/x-canon-crw");
    mimetypes_map_.emplace(".ras", "image/x-cmu-raster");
    mimetypes_map_.emplace(".cmx", "image/x-cmx");
    mimetypes_map_.emplace(".erf", "image/x-epson-erf");
    mimetypes_map_.emplace(".fh", "image/x-freehand");
    mimetypes_map_.emplace(".fh4", "image/x-freehand");
    mimetypes_map_.emplace(".fh5", "image/x-freehand");
    mimetypes_map_.emplace(".fh7", "image/x-freehand");
    mimetypes_map_.emplace(".fhc", "image/x-freehand");
    mimetypes_map_.emplace(".raf", "image/x-fuji-raf");
    mimetypes_map_.emplace(".ico", "image/x-icon");
    mimetypes_map_.emplace(".k25", "image/x-kodak-k25");
    mimetypes_map_.emplace(".kdc", "image/x-kodak-kdc");
    mimetypes_map_.emplace(".mrw", "image/x-minolta-mrw");
    mimetypes_map_.emplace(".nef", "image/x-nikon-nef");
    mimetypes_map_.emplace(".orf", "image/x-olympus-orf");
    mimetypes_map_.emplace(".raw", "image/x-panasonic-raw");
    mimetypes_map_.emplace(".rw2", "image/x-panasonic-raw");
    mimetypes_map_.emplace(".rwl", "image/x-panasonic-raw");
    mimetypes_map_.emplace(".pcx", "image/x-pcx");
    mimetypes_map_.emplace(".pef", "image/x-pentax-pef");
    mimetypes_map_.emplace(".ptx", "image/x-pentax-pef");
    mimetypes_map_.emplace(".pct", "image/x-pict");
    mimetypes_map_.emplace(".pic", "image/x-pict");
    mimetypes_map_.emplace(".pnm", "image/x-portable-anymap");
    mimetypes_map_.emplace(".pbm", "image/x-portable-bitmap");
    mimetypes_map_.emplace(".pgm", "image/x-portable-graymap");
    mimetypes_map_.emplace(".ppm", "image/x-portable-pixmap");
    mimetypes_map_.emplace(".rgb", "image/x-rgb");
    mimetypes_map_.emplace(".x3f", "image/x-sigma-x3f");
    mimetypes_map_.emplace(".arw", "image/x-sony-arw");
    mimetypes_map_.emplace(".sr2", "image/x-sony-sr2");
    mimetypes_map_.emplace(".srf", "image/x-sony-srf");
    mimetypes_map_.emplace(".xbm", "image/x-xbitmap");
    mimetypes_map_.emplace(".xpm", "image/x-xpixmap");
    mimetypes_map_.emplace(".xwd", "image/x-xwindowdump");
    mimetypes_map_.emplace(".eml", "message/rfc822");
    mimetypes_map_.emplace(".mht", "message/rfc822");
    mimetypes_map_.emplace(".mhtml", "message/rfc822");
    mimetypes_map_.emplace(".mime", "message/rfc822");
    mimetypes_map_.emplace(".nws", "message/rfc822");
    mimetypes_map_.emplace(".iges", "model/iges");
    mimetypes_map_.emplace(".igs", "model/iges");
    mimetypes_map_.emplace(".mesh", "model/mesh");
    mimetypes_map_.emplace(".msh", "model/mesh");
    mimetypes_map_.emplace(".silo", "model/mesh");
    mimetypes_map_.emplace(".dwf", "model/vnd.dwf");
    mimetypes_map_.emplace(".gdl", "model/vnd.gdl");
    mimetypes_map_.emplace(".gtw", "model/vnd.gtw");
    mimetypes_map_.emplace(".mts", "model/vnd.mts");
    mimetypes_map_.emplace(".vtu", "model/vnd.vtu");
    mimetypes_map_.emplace(".vrml", "model/vrml");
    mimetypes_map_.emplace(".wrl", "model/vrml");
    mimetypes_map_.emplace(".ics", "text/calendar");
    mimetypes_map_.emplace(".ifb", "text/calendar");
    mimetypes_map_.emplace(".css", "text/css");
    mimetypes_map_.emplace(".csv", "text/csv");
    mimetypes_map_.emplace(".htm", "text/html");
    mimetypes_map_.emplace(".html", "text/html");
    mimetypes_map_.emplace(".js", "text/javascript");
    mimetypes_map_.emplace(".md", "text/markdown");
    mimetypes_map_.emplace(".markdown", "text/markdown");
    mimetypes_map_.emplace(".mdown", "text/markdown");
    mimetypes_map_.emplace(".markdn", "text/markdown");
    mimetypes_map_.emplace(".conf", "text/plain");
    mimetypes_map_.emplace(".def", "text/plain");
    mimetypes_map_.emplace(".diff", "text/plain");
    mimetypes_map_.emplace(".in", "text/plain");
    mimetypes_map_.emplace(".ksh", "text/plain");
    mimetypes_map_.emplace(".list", "text/plain");
    mimetypes_map_.emplace(".log", "text/plain");
    mimetypes_map_.emplace(".text", "text/plain");
    mimetypes_map_.emplace(".txt", "text/plain");
    mimetypes_map_.emplace(".dsc", "text/prs.lines.tag");
    mimetypes_map_.emplace(".rtx", "text/richtext");
    mimetypes_map_.emplace(".sgm", "text/sgml");
    mimetypes_map_.emplace(".sgml", "text/sgml");
    mimetypes_map_.emplace(".tsv", "text/tab-separated-values");
    mimetypes_map_.emplace(".man", "text/troff");
    mimetypes_map_.emplace(".me", "text/troff");
    mimetypes_map_.emplace(".ms", "text/troff");
    mimetypes_map_.emplace(".roff", "text/troff");
    mimetypes_map_.emplace(".t", "text/troff");
    mimetypes_map_.emplace(".tr", "text/troff");
    mimetypes_map_.emplace(".uri", "text/uri-list");
    mimetypes_map_.emplace(".uris", "text/uri-list");
    mimetypes_map_.emplace(".urls", "text/uri-list");
    mimetypes_map_.emplace(".curl", "text/vnd.curl");
    mimetypes_map_.emplace(".dcurl", "text/vnd.curl.dcurl");
    mimetypes_map_.emplace(".mcurl", "text/vnd.curl.mcurl");
    mimetypes_map_.emplace(".scurl", "text/vnd.curl.scurl");
    mimetypes_map_.emplace(".fly", "text/vnd.fly");
    mimetypes_map_.emplace(".flx", "text/vnd.fmi.flexstor");
    mimetypes_map_.emplace(".gv", "text/vnd.graphviz");
    mimetypes_map_.emplace(".3dml", "text/vnd.in3d.3dml");
    mimetypes_map_.emplace(".spot", "text/vnd.in3d.spot");
    mimetypes_map_.emplace(".jad", "text/vnd.sun.j2me.app-descriptor");
    mimetypes_map_.emplace(".si", "text/vnd.wap.si");
    mimetypes_map_.emplace(".sl", "text/vnd.wap.sl");
    mimetypes_map_.emplace(".wml", "text/vnd.wap.wml");
    mimetypes_map_.emplace(".wmls", "text/vnd.wap.wmlscript");
    mimetypes_map_.emplace(".asm", "text/x-asm");
    mimetypes_map_.emplace(".s", "text/x-asm");
    mimetypes_map_.emplace(".c", "text/x-c");
    mimetypes_map_.emplace(".cc", "text/x-c");
    mimetypes_map_.emplace(".cpp", "text/x-c");
    mimetypes_map_.emplace(".cxx", "text/x-c");
    mimetypes_map_.emplace(".dic", "text/x-c");
    mimetypes_map_.emplace(".h", "text/x-c");
    mimetypes_map_.emplace(".hh", "text/x-c");
    mimetypes_map_.emplace(".f", "text/x-fortran");
    mimetypes_map_.emplace(".f77", "text/x-fortran");
    mimetypes_map_.emplace(".f90", "text/x-fortran");
    mimetypes_map_.emplace(".for", "text/x-fortran");
    mimetypes_map_.emplace(".java", "text/x-java-source");
    mimetypes_map_.emplace(".p", "text/x-pascal");
    mimetypes_map_.emplace(".pas", "text/x-pascal");
    mimetypes_map_.emplace(".pp", "text/x-pascal");
    mimetypes_map_.emplace(".inc", "text/x-pascal");
    mimetypes_map_.emplace(".py", "text/x-python");
    mimetypes_map_.emplace(".etx", "text/x-setext");
    mimetypes_map_.emplace(".uu", "text/x-uuencode");
    mimetypes_map_.emplace(".vcs", "text/x-vcalendar");
    mimetypes_map_.emplace(".vcf", "text/x-vcard");
    mimetypes_map_.emplace(".h261", "video/h261");
    mimetypes_map_.emplace(".h263", "video/h263");
    mimetypes_map_.emplace(".h264", "video/h264");
    mimetypes_map_.emplace(".jpgv", "video/jpeg");
    mimetypes_map_.emplace(".jpgm", "video/jpm");
    mimetypes_map_.emplace(".jpm", "video/jpm");
    mimetypes_map_.emplace(".mj2", "video/mj2");
    mimetypes_map_.emplace(".mjp2", "video/mj2");
    mimetypes_map_.emplace(".mp4", "video/mp4");
    mimetypes_map_.emplace(".mp4v", "video/mp4");
    mimetypes_map_.emplace(".mpg4", "video/mp4");
    mimetypes_map_.emplace(".m1v", "video/mpeg");
    mimetypes_map_.emplace(".m2v", "video/mpeg");
    mimetypes_map_.emplace(".mpa", "video/mpeg");
    mimetypes_map_.emplace(".mpe", "video/mpeg");
    mimetypes_map_.emplace(".mpeg", "video/mpeg");
    mimetypes_map_.emplace(".mpg", "video/mpeg");
    mimetypes_map_.emplace(".ogv", "video/ogg");
    mimetypes_map_.emplace(".mov", "video/quicktime");
    mimetypes_map_.emplace(".qt", "video/quicktime");
    mimetypes_map_.emplace(".fvt", "video/vnd.fvt");
    mimetypes_map_.emplace(".m4u", "video/vnd.mpegurl");
    mimetypes_map_.emplace(".mxu", "video/vnd.mpegurl");
    mimetypes_map_.emplace(".pyv", "video/vnd.ms-playready.media.pyv");
    mimetypes_map_.emplace(".viv", "video/vnd.vivo");
    mimetypes_map_.emplace(".webm", "video/webm");
    mimetypes_map_.emplace(".f4v", "video/x-f4v");
    mimetypes_map_.emplace(".fli", "video/x-fli");
    mimetypes_map_.emplace(".flv", "video/x-flv");
    mimetypes_map_.emplace(".m4v", "video/x-m4v");
    mimetypes_map_.emplace(".mkv", "video/x-matroska");
    mimetypes_map_.emplace(".asf", "video/x-ms-asf");
    mimetypes_map_.emplace(".asx", "video/x-ms-asf");
    mimetypes_map_.emplace(".wm", "video/x-ms-wm");
    mimetypes_map_.emplace(".wmv", "video/x-ms-wmv");
    mimetypes_map_.emplace(".wmx", "video/x-ms-wmx");
    mimetypes_map_.emplace(".wvx", "video/x-ms-wvx");
    mimetypes_map_.emplace(".avi", "video/x-msvideo");
    mimetypes_map_.emplace(".movie", "video/x-sgi-movie");
    mimetypes_map_.emplace(".ice", "x-conference/x-cooltalk");
} // void InitMimeTypesMap();

} // namespace util
} // namespace server
} // namespace ic
